<!DOCTYPE html><html lang="fr"><head><link rel="icon" href="favicon.ico" /><link rel="stylesheet" href="style/s.css"><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0"><title>Team 16</title></head><body><div id="title"><div class="container"><h1>INDICE DE FRAGILITÉ NUMÉRIQUE</h1><hr><p>Cet indice permet d’obtenir une projection des zones en risque de fragilité numérique, d’identifier et catégoriser les zones de fragilité numérique selon différents critères. Il constitue ainsi un outil d’aide à la décision et de mobilisation des acteurs de l’inclusion numérique sur leur territoire.</p><p>L'indice est calculé à l'aide de quatre variables : l'accès à l'information, l'accès aux interfaces numériques, la capacité d'usage des interfaces numériques et les compétences administratives, en prenant la région comme point de référence.</p></div></div><div class="container"><div class="row"><div class="col-xl"><div id="search"> <input type="text" placeholder="Code postal" id="searchbox"> <button onclick="search()" class="button">Rechercher</button></div></div></div><div class="menu"><div class="row"><div class="col-xl"><div class="card-aze"><h2> Régions</h2><div class="vertical-menu" id="region-list"> <span onclick="loadDeps(this.textContent)">AUVERGNE RHONE ALPES</span> <span onclick="loadDeps(this.textContent)">BRETAGNE</span> <span onclick="loadDeps(this.textContent)">BOURGOGNE FRANCHE COMTE</span> <span onclick="loadDeps(this.textContent)">CENTRE VAL DE LOIRE</span> <span onclick="loadDeps(this.textContent)">CORSE</span> <span onclick="loadDeps(this.textContent)">GRAND EST</span> <span onclick="loadDeps(this.textContent)">HAUTS DE FRANCE</span> <span onclick="loadDeps(this.textContent)">ILE DE FRANCE</span> <span onclick="loadDeps(this.textContent)">LA REUNION</span> <span onclick="loadDeps(this.textContent)">MARTINIQUE</span> <span onclick="loadDeps(this.textContent)">NORMANDIE</span> <span onclick="loadDeps(this.textContent)">NOUVELLE AQUITAINE</span> <span onclick="loadDeps(this.textContent)">OCCITANIE</span> <span onclick="loadDeps(this.textContent)">PAYS DE LA LOIRE</span> <span onclick="loadDeps(this.textContent)">PROVENCE ALPES COTE D AZUR</span></div></div></div><div class="col-xl"><div class="card-aze"><h2>Départements</h2><div class="vertical-menu" id="dept-list"> <span>Choisissez une région</span></div></div></div><div class="col-xl"><div class="card-aze"><h2>Communes</h2><div class="vertical-menu" id="coms-list"> <span>Choisissez une région</span></div></div></div></div><div id="card"><div class="row" style="display: none" id="com-card"><div class="col-xl"><div class="card-aze"><h2><span id="com-name"></span> : <span id="com-score">42</span></h2><div class="card-body"> <span id="1" class="phrase">Ce score est parmi les plus faibles du pays.</span> <span id="2" class="phrase">Ce score est situé dans la moitié inférieure nationale</span> <span id="3" class="phrase">Ce score est situé dans la moitié supérieure nationale</span> <span id="4" class="phrase">Ce score est parmi les plus élevés du pays</span><h3>Accès à l'information : <span id="com-acces-info"></span></h3><p>Cet indice identifie les territoires mal couverts par les services d'information ou des populations qui auraient des difficultés à comprendre l'information.</p><h3>Accès aux interfaces numériques : <span id="com-if-num"></span></h3><p>Correspond aux territoires mal couverts par les services numériques ou des populations qui auraient des difficultés financières à y accéder.</p><h3>Capacité d'usage des interfaces numériques : <span id="com-cap-if"></span></h3><p>Identifier des populations parmi lesquelles s'observent des difficultés à utiliser internet ou les outils numériques.</p><h3>Compétences administratives : <span id="com-comp-admin"></span></h3><p>Identifier des populations parmi lesquelles s'observent des difficultés à accomplir des procédures administratives.</p> <button id="pdf" onclick="pdf()">Enregistrer en PDF</button></div></div></div></div><div class="row"><div class="col-xl" style="display: none" id="region-card"><div class="card-aze"><h2><span id="region-name"></span> : <span id="region-score">42</span></h2><div class="card-body"><h3>Accès à l'information : <span id="region-acces-info"></span></h3><h3>Accès aux interfaces numériques : <span id="region-if-num"></span></h3><h3>Capacité d'usage des interfaces numériques : <span id="region-cap-if"></span></h3><h3>Compétences administratives : <span id="region-comp-admin"></span></h3></div></div></div><div class="col-xl" style="display: none" id="dept-card"><div class="card-aze"><h2><span id="dept-name"></span> : <span id="dept-score">42</span></h2><div class="card-body"><h3>Accès à l'information : <span id="dept-acces-info"></span></h3><h3>Accès aux interfaces numériques : <span id="dept-if-num"></span></h3><h3>Capacité d'usage des interfaces numériques : <span id="dept-cap-if"></span></h3><h3>Compétences administratives : <span id="dept-comp-admin"></span></h3></div></div></div></div></div></div></div><div id="div_pop_up" style="display: none"> Nous utilisons des cookies pour offrir une meilleure expérience. Nous ne collectons ni utilisons aucune de vos données.<p> <button onclick="acceptCookies(true)">Accepter</button> <button onclick="acceptCookies(false)">Refuser</button></p></div><div class="menu"> <button class="button" id="search-history" onclick="toggleHistory()">Mes recherches</button><div class="card-history" id="history-card" style="display: none;"><h2> Historique</h2><div class="vertical-menu" id="history-list"><span>Historique vide</span></div></div></div><script>
    function acceptCookies(e){e&&(document.cookie="rgpd=true; expires=Thu, 01 Jan 2042 00:00:00 UTC; path=/;"),document.getElementById("div_pop_up").style.display="none"}function search(){let e=document.getElementById("searchbox").value,t=new XMLHttpRequest;t.onreadystatechange=function(){if(4===t.readyState&&200===t.status){let e=JSON.parse(t.responseText),n=e.region.departements,o="";for(let t=0;t<n.length;t++)o+="<span "+(e.departement.nom_dep===n[t]?'class="active"':"")+' onclick="loadComs(this)">'+n[t]+"</span>";document.getElementById("dept-list").innerHTML=o,updateCard("dept",e.departement.nom_dep,e.departement.score_global,e.departement.indice_acces_info,e.departement.indice_acces_interf_num,e.departement.indice_competences_num,e.departement.indice_competences_admin),document.getElementById("dept-card").style.display="",updateCard("region",e.region.nom_reg,e.region.score_global,e.region.indice_acces_info,e.region.indice_acces_interf_num,e.region.indice_competences_num,e.region.indice_competences_admin),document.getElementById("region-card").style.display="";let s=document.getElementById("region-list").getElementsByTagName("span");for(let t=0;t<s.length;t++)s[t].textContent===e.region.nom_reg?s[t].classList.add("active"):s[t].classList.remove("active");let c=document.getElementById("dept-list").getElementsByTagName("span");for(let t=0;t<c.length;t++)c[t].textContent===e.departement.nom_dep?c[t].classList.add("active"):c[t].classList.remove("active");let i=document.getElementById("coms-list");if(o="",Object.keys(e.communes).forEach(t=>{o+='<span id="'+t+'" onclick="loadCom('+t+', this)">'+e.communes[t].nom_com+" ("+e.communes[t].nom_iris+")</span>"}),i.innerHTML=o,1===e.communes.length){let t=i.getElementsByTagName("span")[0];loadCom(Object.keys(e.communes)[0],t)}else document.getElementById("com-card").style.display="none",i.scrollIntoView({behavior:"smooth",block:"center"})}},t.open("GET","/search?code_postal="+e,!0),t.send()}function loadDeps(e){let t=new XMLHttpRequest;t.onreadystatechange=function(){if(4===t.readyState&&200===t.status){let n=JSON.parse(t.responseText);updateCard("region",e,n.score_global,n.indice_acces_info,n.indice_acces_interf_num,n.indice_competences_num,n.indice_competences_admin),document.getElementById("region-card").style.display="";let o=document.getElementById("dept-list"),s="";for(let e=0;e<n.departements.length;e++)s+='<span onclick="loadComs(this)">'+n.departements[e]+"</span>";o.innerHTML=s,o.scrollIntoView({behavior:"smooth",block:"center"});let c=document.getElementById("region-list").getElementsByTagName("span");for(let t=0;t<c.length;t++)c[t].textContent===e?c[t].classList.add("active"):c[t].classList.remove("active");document.getElementById("coms-list").innerHTML="<span>Choisissez un département</span>",document.getElementById("dept-card").style.display="none",document.getElementById("com-card").style.display="none"}},t.open("GET","/departements?region="+e,!0),t.send()}function loadComs(e){let t=e.textContent,n=document.getElementById("region-list").getElementsByClassName("active")[0].textContent,o=new XMLHttpRequest;o.onreadystatechange=function(){if(4===o.readyState&&200===o.status){let n=JSON.parse(o.responseText);updateCard("dept",t,n.score_global,n.indice_acces_info,n.indice_acces_interf_num,n.indice_competences_num,n.indice_competences_admin),document.getElementById("dept-card").style.display="";let s=document.getElementById("coms-list"),c="";Object.keys(n.communes).forEach(e=>{c+='<span id="'+e+'" onclick="loadCom('+e+', this)">'+n.communes[e]+"</span>"}),s.innerHTML=c,s.scrollIntoView({behavior:"smooth",block:"center"});let i=document.getElementById("dept-list").getElementsByClassName("active");for(let e=0;e<i.length;e++)i[e].classList.remove("active");e.classList.add("active"),document.getElementById("com-card").style.display="none"}},o.open("GET","/communes?region="+n+"&departement="+t,!0),o.send()}function pdf(){let e=document.getElementById("region-list").getElementsByClassName("active")[0].textContent,t=document.getElementById("dept-list").getElementsByClassName("active")[0].textContent,n=document.getElementById("coms-list").getElementsByClassName("active")[0].id;window.open("/pdf?region="+e+"&departement="+t+"&commune="+n)}function loadCom(e,t){let n=document.getElementById("region-list").getElementsByClassName("active")[0].textContent,o=document.getElementById("dept-list").getElementsByClassName("active")[0].textContent,s=t.textContent,c=new XMLHttpRequest;c.onreadystatechange=function(){if(4===c.readyState&&200===c.status){let i=JSON.parse(c.responseText);updateCard("com",s,i.commune.score_global,i.commune.indice_acces_info,i.commune.indice_acces_interf_num,i.commune.indice_competences_num,i.commune.indice_competences_admin),phraseConclu(i.commune.score_global);let d=document.getElementById("com-card");d.style.display="",d.scrollIntoView({behavior:"smooth",block:"center"});let l=document.getElementById("coms-list").getElementsByClassName("active");for(let e=0;e<l.length;e++)l[e].classList.remove("active");t.classList.add("active");let m=document.getElementById("history-list"),a="<span onclick=\"loadFromHistory('"+n+"', '"+o+"', '"+e+"', '"+s+"')\">"+s+"</span>",r="";if("Historique vide"===m.innerText)m.innerHTML=a;else{let e=m.getElementsByTagName("span");for(let t=0;t<e.length;t++)if(e[t].textContent===s)return;m.innerHTML+=a,r+="/"}if(r+=n+"~"+o+"~"+e+"~"+s,null!=getCookie("rgpd")){let e="";if(null!=getCookie("history")){let t=(e=getCookie("history")).split("/");10===t.length&&(t.shift(),e=t.join("/"))}e+=r,document.cookie="history="+e+"; expires=Thu, 01 Jan 2042 00:00:00 UTC; path=/;"}}},c.open("GET","/commune?region="+n+"&departement="+o+"&commune="+e,!0),c.send()}function loadFromHistory(e,t,n,o){let s=new XMLHttpRequest;s.onreadystatechange=function(){if(4===s.readyState&&200===s.status){let c=JSON.parse(s.responseText);updateCard("region",e,c.region.score_global,c.region.indice_acces_info,c.region.indice_acces_interf_num,c.region.indice_competences_num,c.region.indice_competences_admin);let i=document.getElementById("region-card");i.style.display="",updateCard("dept",t,c.departement.score_global,c.departement.indice_acces_info,c.departement.indice_acces_interf_num,c.departement.indice_competences_num,c.departement.indice_competences_admin),(i=document.getElementById("dept-card")).style.display="",updateCard("com",o,c.commune.score_global,c.commune.indice_acces_info,c.commune.indice_acces_interf_num,c.commune.indice_competences_num,c.commune.indice_competences_admin),phraseConclu(c.commune.score_global),(i=document.getElementById("com-card")).style.display="",i.scrollIntoView({behavior:"smooth",block:"center"});let d=document.getElementById("region-list").getElementsByTagName("span");for(let e=0;e<d.length;e++)d[e].textContent===c.region.nom_reg?d[e].classList.add("active"):d[e].classList.remove("active");let l=document.getElementById("dept-list"),m=c.region.departements,a="";for(let e=0;e<m.length;e++)a+="<span>"+m[e]+"</span>";l.innerHTML=a;let r=l.getElementsByTagName("span");for(let e=0;e<r.length;e++)r[e].textContent===c.departement.nom_dep?r[e].classList.add("active"):r[e].classList.remove("active");document.getElementById("coms-list").innerHTML='<span class="active" id="'+n+'" onclick="loadCom('+n+', this)">'+o+"</span>"}},s.open("GET","/commune?region="+e+"&departement="+t+"&commune="+n,!0),s.send()}function updateCard(e,t,n,o,s,c,i){document.getElementById(e+"-name").textContent=t,document.getElementById(e+"-score").textContent=n,document.getElementById(e+"-acces-info").textContent=o,document.getElementById(e+"-if-num").textContent=s,document.getElementById(e+"-cap-if").textContent=c,document.getElementById(e+"-comp-admin").textContent=i}function phraseConclu(e){let t=document.getElementsByClassName("phrase");for(let e=0;e<t.length;e++)t[e].style.display="none";let n=document.getElementById("1");e>=210?n=document.getElementById("4"):e>=140?n=document.getElementById("3"):e>=70&&(n=document.getElementById("2")),n.style.display=""}function toggleHistory(){let e=document.getElementById("history-card");"none"===e.style.display?e.style.display="":e.style.display="none"}function getCookie(e){let t=document.cookie;let n=e+"=",o=t.indexOf("; "+n),s=9;if(-1==o){if(0!=(o=t.indexOf(n)))return null}else o+=2,-1==(s=document.cookie.indexOf(";",o))&&(s=t.length);return decodeURI(t.substring(o+n.length,s))}window.onload=function(){if(document.getElementById("searchbox").addEventListener("keyup",function(e){"Enter"===e.key&&search()}),null==getCookie("rgpd"))document.getElementById("div_pop_up").style.display="";else if(null!=getCookie("history")){let e=getCookie("history").split("/");for(let t=0;t<e.length;t++){let n=e[t].split("~"),o="<span onclick=\"loadFromHistory('"+n[0]+"', '"+n[1]+"', '"+n[2]+"', '"+n[3]+"')\">"+n[3]+"</span>",s=document.getElementById("history-list");if("Historique vide"===s.innerText)s.innerHTML=o;else{let e=s.getElementsByTagName("span");for(let t=0;t<e.length;t++)if(e[t].textContent===n[4])return;s.innerHTML+=o}}}};
</script></body></html>
